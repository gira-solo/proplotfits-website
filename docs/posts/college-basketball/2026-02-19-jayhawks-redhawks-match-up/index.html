<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="ProPlotFits">
<meta name="dcterms.date" content="2026-02-19">
<meta name="description" content="A reproducible analysis of college basketball data with R">

<title>ProPlotFits - A Tale of Two Hawks Part 2</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../">
<script src="../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

<script src="../../../site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="../../../site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">


<link rel="stylesheet" href="../../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../../index.html">
    <span class="navbar-title">ProPlotFits</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../posts.html" rel="" target="">
 <span class="menu-text">Metrics &amp; Analytics</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../methodology.html" rel="" target="">
 <span class="menu-text">Methodology</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../about.html" rel="" target="">
 <span class="menu-text">About</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/yourusername/proplotfits" rel="" target=""><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#what-were-looking-for" id="toc-what-were-looking-for" class="nav-link" data-scroll-target="#what-were-looking-for">What We’re Looking For</a></li>
  <li><a href="#how-you-can-use-this" id="toc-how-you-can-use-this" class="nav-link" data-scroll-target="#how-you-can-use-this">How You Can Use This</a></li>
  <li><a href="#step-1-retrieve-official-espn-data" id="toc-step-1-retrieve-official-espn-data" class="nav-link" data-scroll-target="#step-1-retrieve-official-espn-data">Step 1: Retrieve official ESPN data</a></li>
  <li><a href="#step-2-calculate-the-four-factors" id="toc-step-2-calculate-the-four-factors" class="nav-link" data-scroll-target="#step-2-calculate-the-four-factors">Step 2: Calculate the Four Factors</a></li>
  <li><a href="#step-3-compare-season-averages" id="toc-step-3-compare-season-averages" class="nav-link" data-scroll-target="#step-3-compare-season-averages">Step 3: Compare Season Averages</a></li>
  <li><a href="#step-4-visualize-shooting-efficiency" id="toc-step-4-visualize-shooting-efficiency" class="nav-link" data-scroll-target="#step-4-visualize-shooting-efficiency">Step 4: Visualize Shooting Efficiency</a></li>
  <li><a href="#step-5-calculate-efficiency-ratings" id="toc-step-5-calculate-efficiency-ratings" class="nav-link" data-scroll-target="#step-5-calculate-efficiency-ratings">Step 5: Calculate Efficiency Ratings</a></li>
  <li><a href="#step-6-recent-form-last-10-games" id="toc-step-6-recent-form-last-10-games" class="nav-link" data-scroll-target="#step-6-recent-form-last-10-games">Step 6: Recent Form (Last 10 Games)</a></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">Conclusion</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">A Tale of Two Hawks Part 2</h1>
  <div class="quarto-categories">
    <div class="quarto-category">college-basketball</div>
    <div class="quarto-category">tutorial</div>
    <div class="quarto-category">kansas</div>
    <div class="quarto-category">miami-oh</div>
  </div>
  </div>

<div>
  <div class="description">
    A reproducible analysis of college basketball data with R
  </div>
</div>


<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>ProPlotFits </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">February 19, 2026</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p>For context, please see Part 1 here.</p>
</section>
<section id="what-were-looking-for" class="level2">
<h2 class="anchored" data-anchor-id="what-were-looking-for">What We’re Looking For</h2>
<p>If the goal is to use data to bet responsible AND share our results in reproducible manner, we need to isolate the data that helps us develop a model that predicts winners in potential match-ups.</p>
<p>Dean Oliver narrowed the most important analytics of college basketball down to Four Factors:</p>
<ol type="1">
<li><strong>Shooting Efficiency</strong> - More baskets and fewer misses</li>
<li><strong>Turnovers</strong> - Number of times losing a possession</li>
<li><strong>Rebounds</strong> - Number of times gaining a possession</li>
<li><strong>Free Throws</strong> - Free points</li>
</ol>
<p>Additionally, there are <strong>efficiency ratings</strong> - points scored and allowed per 100 possessions - which help adjust for pace.</p>
<p>When we talk about using machine learning to help us predict the outcome of match-ups, what we are actually doing is identifying features of a phenomena that could potentially assist us in determining outcomes. That is incredibly boiled down, but when we develop these predictive models, the models themselves let the analysts know what features are driving most of the explanation.</p>
<hr>
</section>
<section id="how-you-can-use-this" class="level2">
<h2 class="anchored" data-anchor-id="how-you-can-use-this">How You Can Use This</h2>
<p>We are going to take a look at a hypothetical match-up between the Kansas Jayhawks and the Miami RedHawks. There is a <em>slight</em> chance they could in fact end up playing each other in the tournament IF they are in the same region. There is likely <em>no</em> chance they both make it to the Final Four.</p>
<p>This exact workflow works for any team in Division I basketball.</p>
<p><strong>The steps:</strong></p>
<ol type="1">
<li>Load schedule and box scores with <code>hoopR</code></li>
<li>Calculate four factors using the formulas above</li>
<li>Calculate efficiency ratings</li>
<li>Visualize trends with <code>ggplot2</code></li>
<li>Compare head-to-head results</li>
</ol>
<hr>
</section>
<section id="step-1-retrieve-official-espn-data" class="level2">
<h2 class="anchored" data-anchor-id="step-1-retrieve-official-espn-data">Step 1: Retrieve official ESPN data</h2>
<p>Loading data using the help of an R package named <code>hoopR</code>. You can learn more about its <a href="https://hoopr.sportsdataverse.org/">documentation</a>, but it’s basically an API call to EPSN for live college basketball data.</p>
<p>I am using other libraries of course, but we don’t have time to talk about them!</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'dplyr'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:stats':

    filter, lag</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:base':

    intersect, setdiff, setequal, union</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(hoopR)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'hoopR' was built under R version 4.5.2</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(janitor)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'janitor' was built under R version 4.5.2</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'janitor'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:stats':

    chisq.test, fisher.test</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>schedule <span class="ot">&lt;-</span> </span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">load_mbb_schedule</span>(<span class="at">seasons =</span> <span class="dv">2026</span>) <span class="sc">|&gt;</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">clean_names</span>()</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>box_scores <span class="ot">&lt;-</span> </span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">load_mbb_team_box</span>(<span class="at">seasons =</span> <span class="dv">2026</span>) <span class="sc">|&gt;</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">clean_names</span>()</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter to just Kansas &amp; Miami</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>hawks <span class="ot">&lt;-</span> </span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>  box_scores <span class="sc">|&gt;</span></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(team_display_name <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Kansas Jayhawks"</span>, <span class="st">"Miami (OH) RedHawks"</span>))</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Quick look at what we have</span></span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(hawks[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>,])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>hoopR_dt [2 × 59] (S3: hoopR_data/tbl_df/tbl/data.table/data.frame)
 $ game_id                          : int [1:2] 401827690 401814572
 $ season                           : int [1:2] 2026 2026
 $ season_type                      : int [1:2] 2 2
 $ game_date                        : Date[1:2], format: "2026-02-18" "2026-02-17"
 $ game_date_time                   : POSIXct[1:2], format: "2026-02-18 21:00:00" "2026-02-17 19:00:00"
 $ team_id                          : int [1:2] 2305 193
 $ team_uid                         : chr [1:2] "s:40~l:41~t:2305" "s:40~l:41~t:193"
 $ team_slug                        : chr [1:2] "kansas-jayhawks" "miami-oh-redhawks"
 $ team_location                    : chr [1:2] "Kansas" "Miami (OH)"
 $ team_name                        : chr [1:2] "Jayhawks" "RedHawks"
 $ team_abbreviation                : chr [1:2] "KU" "M-OH"
 $ team_display_name                : chr [1:2] "Kansas Jayhawks" "Miami (OH) RedHawks"
 $ team_short_display_name          : chr [1:2] "Kansas" "Miami OH"
 $ team_color                       : chr [1:2] "0051ba" "c41230"
 $ team_alternate_color             : chr [1:2] "e8000d" "ffffff"
 $ team_logo                        : chr [1:2] "https://a.espncdn.com/i/teamlogos/ncaa/500/2305.png" "https://a.espncdn.com/i/teamlogos/ncaa/500/193.png"
 $ team_home_away                   : chr [1:2] "away" "away"
 $ team_score                       : int [1:2] 81 86
 $ team_winner                      : logi [1:2] TRUE TRUE
 $ assists                          : int [1:2] 20 16
 $ blocks                           : int [1:2] 7 1
 $ defensive_rebounds               : int [1:2] 31 22
 $ fast_break_points                : chr [1:2] "10" "9"
 $ field_goal_pct                   : num [1:2] 46 50
 $ field_goals_made                 : int [1:2] 28 26
 $ field_goals_attempted            : int [1:2] 61 52
 $ flagrant_fouls                   : int [1:2] 0 0
 $ fouls                            : int [1:2] 14 15
 $ free_throw_pct                   : num [1:2] 88 73
 $ free_throws_made                 : int [1:2] 14 24
 $ free_throws_attempted            : int [1:2] 16 33
 $ largest_lead                     : chr [1:2] "23" "10"
 $ lead_changes                     : chr [1:2] "0" "2"
 $ lead_percentage                  : chr [1:2] "99" "91"
 $ offensive_rebounds               : int [1:2] 10 4
 $ points_in_paint                  : chr [1:2] "32" "28"
 $ steals                           : int [1:2] 5 9
 $ team_turnovers                   : int [1:2] 0 1
 $ technical_fouls                  : int [1:2] 0 0
 $ three_point_field_goal_pct       : num [1:2] 46 43
 $ three_point_field_goals_made     : int [1:2] 11 10
 $ three_point_field_goals_attempted: int [1:2] 24 23
 $ total_rebounds                   : int [1:2] 41 26
 $ total_technical_fouls            : int [1:2] 0 0
 $ total_turnovers                  : int [1:2] 12 7
 $ turnover_points                  : chr [1:2] "11" "14"
 $ turnovers                        : int [1:2] 12 7
 $ opponent_team_id                 : int [1:2] 197 113
 $ opponent_team_uid                : chr [1:2] "s:40~l:41~t:197" "s:40~l:41~t:113"
 $ opponent_team_slug               : chr [1:2] "oklahoma-state-cowboys" "massachusetts-minutemen"
 $ opponent_team_location           : chr [1:2] "Oklahoma State" "Massachusetts"
 $ opponent_team_name               : chr [1:2] "Cowboys" "Minutemen"
 $ opponent_team_abbreviation       : chr [1:2] "OKST" "MASS"
 $ opponent_team_display_name       : chr [1:2] "Oklahoma State Cowboys" "Massachusetts Minutemen"
 $ opponent_team_short_display_name : chr [1:2] "Oklahoma St" "UMass"
 $ opponent_team_color              : chr [1:2] "fe5c00" "881c1c"
 $ opponent_team_alternate_color    : chr [1:2] "000000" "ffffff"
 $ opponent_team_logo               : chr [1:2] "https://a.espncdn.com/i/teamlogos/ncaa/500/197.png" "https://a.espncdn.com/i/teamlogos/ncaa/500/113.png"
 $ opponent_team_score              : int [1:2] 69 77
 - attr(*, "hoopR_timestamp")= POSIXct[1:1], format: "2026-02-19 08:00:53"
 - attr(*, "hoopR_type")= chr "ESPN MBB Team Boxscores from hoopR data repository"</code></pre>
</div>
</div>
<p>I’ve taken the first two rows of our <code>hawks</code> data frame, which was filtered from the 2026 box score data stored in <code>box_scores</code> and told R to give me its structure. We have 59 columns; R lists them in order of appearance in the matrix, defines the type of data we are dealing with, shows us how many observations and then gives us a preview of said observations.</p>
<p>We can see that these are the most recent games for both teams.</p>
<hr>
</section>
<section id="step-2-calculate-the-four-factors" class="level2">
<h2 class="anchored" data-anchor-id="step-2-calculate-the-four-factors">Step 2: Calculate the Four Factors</h2>
<p>Now let’s calculate Oliver’s Four Factors for both teams.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>four_factors <span class="ot">&lt;-</span> </span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  hawks <span class="sc">|&gt;</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Effective Field Goal % (weights three-pointers appropriately)</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">efg_pct =</span> (field_goals_made <span class="sc">+</span> <span class="fl">0.5</span> <span class="sc">*</span> three_point_field_goals_made) <span class="sc">/</span> </span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>              field_goals_attempted,</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Turnover % (turnovers per 100 possessions)</span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">tov_pct =</span> turnovers <span class="sc">/</span> </span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>              (field_goals_attempted <span class="sc">+</span> <span class="fl">0.44</span> <span class="sc">*</span> free_throws_attempted <span class="sc">+</span> turnovers),</span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Offensive Rebound % (offensive rebounds captured)</span></span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">orb_pct =</span> offensive_rebounds <span class="sc">/</span> </span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>              (offensive_rebounds <span class="sc">+</span> defensive_rebounds),</span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Free Throw Rate (free throw attempts per field goal attempt)</span></span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">ft_rate =</span> free_throws_made <span class="sc">/</span> field_goals_attempted</span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(team_display_name, game_date, team_score, opponent_team_score,</span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a>         efg_pct, tov_pct, orb_pct, ft_rate)</span>
<span id="cb13-21"><a href="#cb13-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-22"><a href="#cb13-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Show the first few games</span></span>
<span id="cb13-23"><a href="#cb13-23" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(four_factors, <span class="dv">10</span>) <span class="sc">|&gt;</span> knitr<span class="sc">::</span><span class="fu">kable</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 19%">
<col style="width: 10%">
<col style="width: 10%">
<col style="width: 19%">
<col style="width: 9%">
<col style="width: 9%">
<col style="width: 9%">
<col style="width: 9%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">team_display_name</th>
<th style="text-align: left;">game_date</th>
<th style="text-align: right;">team_score</th>
<th style="text-align: right;">opponent_team_score</th>
<th style="text-align: right;">efg_pct</th>
<th style="text-align: right;">tov_pct</th>
<th style="text-align: right;">orb_pct</th>
<th style="text-align: right;">ft_rate</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Kansas Jayhawks</td>
<td style="text-align: left;">2026-02-18</td>
<td style="text-align: right;">81</td>
<td style="text-align: right;">69</td>
<td style="text-align: right;">0.5491803</td>
<td style="text-align: right;">0.1499250</td>
<td style="text-align: right;">0.2439024</td>
<td style="text-align: right;">0.2295082</td>
</tr>
<tr class="even">
<td style="text-align: left;">Miami (OH) RedHawks</td>
<td style="text-align: left;">2026-02-17</td>
<td style="text-align: right;">86</td>
<td style="text-align: right;">77</td>
<td style="text-align: right;">0.5961538</td>
<td style="text-align: right;">0.0952122</td>
<td style="text-align: right;">0.1538462</td>
<td style="text-align: right;">0.4615385</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Kansas Jayhawks</td>
<td style="text-align: left;">2026-02-14</td>
<td style="text-align: right;">56</td>
<td style="text-align: right;">74</td>
<td style="text-align: right;">0.4313725</td>
<td style="text-align: right;">0.1841360</td>
<td style="text-align: right;">0.2941176</td>
<td style="text-align: right;">0.2352941</td>
</tr>
<tr class="even">
<td style="text-align: left;">Miami (OH) RedHawks</td>
<td style="text-align: left;">2026-02-13</td>
<td style="text-align: right;">90</td>
<td style="text-align: right;">74</td>
<td style="text-align: right;">0.5948276</td>
<td style="text-align: right;">0.1134644</td>
<td style="text-align: right;">0.2105263</td>
<td style="text-align: right;">0.3620690</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Kansas Jayhawks</td>
<td style="text-align: left;">2026-02-09</td>
<td style="text-align: right;">82</td>
<td style="text-align: right;">78</td>
<td style="text-align: right;">0.4420290</td>
<td style="text-align: right;">0.1208791</td>
<td style="text-align: right;">0.4146341</td>
<td style="text-align: right;">0.3043478</td>
</tr>
<tr class="even">
<td style="text-align: left;">Miami (OH) RedHawks</td>
<td style="text-align: left;">2026-02-07</td>
<td style="text-align: right;">90</td>
<td style="text-align: right;">74</td>
<td style="text-align: right;">0.6271186</td>
<td style="text-align: right;">0.1600197</td>
<td style="text-align: right;">0.3000000</td>
<td style="text-align: right;">0.2711864</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Kansas Jayhawks</td>
<td style="text-align: left;">2026-02-07</td>
<td style="text-align: right;">71</td>
<td style="text-align: right;">59</td>
<td style="text-align: right;">0.5267857</td>
<td style="text-align: right;">0.1369113</td>
<td style="text-align: right;">0.1944444</td>
<td style="text-align: right;">0.2142857</td>
</tr>
<tr class="even">
<td style="text-align: left;">Miami (OH) RedHawks</td>
<td style="text-align: left;">2026-02-03</td>
<td style="text-align: right;">73</td>
<td style="text-align: right;">71</td>
<td style="text-align: right;">0.6034483</td>
<td style="text-align: right;">0.1765345</td>
<td style="text-align: right;">0.1785714</td>
<td style="text-align: right;">0.0517241</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Kansas Jayhawks</td>
<td style="text-align: left;">2026-02-02</td>
<td style="text-align: right;">64</td>
<td style="text-align: right;">61</td>
<td style="text-align: right;">0.5094340</td>
<td style="text-align: right;">0.2034726</td>
<td style="text-align: right;">0.1315789</td>
<td style="text-align: right;">0.1886792</td>
</tr>
<tr class="even">
<td style="text-align: left;">Kansas Jayhawks</td>
<td style="text-align: left;">2026-01-31</td>
<td style="text-align: right;">90</td>
<td style="text-align: right;">82</td>
<td style="text-align: right;">0.6696429</td>
<td style="text-align: right;">0.0826902</td>
<td style="text-align: right;">0.1250000</td>
<td style="text-align: right;">0.2678571</td>
</tr>
</tbody>
</table>
</div>
</div>
<hr>
</section>
<section id="step-3-compare-season-averages" class="level2">
<h2 class="anchored" data-anchor-id="step-3-compare-season-averages">Step 3: Compare Season Averages</h2>
<p>Let’s see which team has the edge in each factor.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>season_averages <span class="ot">&lt;-</span> </span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  four_factors <span class="sc">|&gt;</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(team_display_name) <span class="sc">|&gt;</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">games =</span> <span class="fu">n</span>(),</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">avg_efg =</span> <span class="fu">mean</span>(efg_pct, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">avg_tov =</span> <span class="fu">mean</span>(tov_pct, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">avg_orb =</span> <span class="fu">mean</span>(orb_pct, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">avg_ftr =</span> <span class="fu">mean</span>(ft_rate, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">"drop"</span></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(kableExtra)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'kableExtra' was built under R version 4.5.2</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'kableExtra'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:dplyr':

    group_rows</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>season_averages <span class="sc">|&gt;</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>(</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">digits =</span> <span class="dv">3</span>,</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Team"</span>, <span class="st">"Games"</span>, <span class="st">"eFG%"</span>, <span class="st">"TOV%"</span>, <span class="st">"ORB%"</span>, <span class="st">"FTR"</span>),</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"Season Averages: Four Factors"</span>,</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">format =</span> <span class="st">"html"</span>,</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">escape =</span> <span class="cn">FALSE</span></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"hover"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Highlight max eFG% (higher is better)</span></span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">column_spec</span>(<span class="dv">3</span>, </span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>              <span class="at">background =</span> <span class="fu">ifelse</span>(season_averages<span class="sc">$</span>avg_efg <span class="sc">==</span> <span class="fu">max</span>(season_averages<span class="sc">$</span>avg_efg),</span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>                                  <span class="st">"#d4edda"</span>, <span class="st">"white"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Highlight min TOV% (lower is better)  </span></span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">column_spec</span>(<span class="dv">4</span>,</span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a>              <span class="at">background =</span> <span class="fu">ifelse</span>(season_averages<span class="sc">$</span>avg_tov <span class="sc">==</span> <span class="fu">min</span>(season_averages<span class="sc">$</span>avg_tov),</span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true" tabindex="-1"></a>                                  <span class="st">"#d4edda"</span>, <span class="st">"white"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb18-18"><a href="#cb18-18" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Highlight max ORB% (higher is better)</span></span>
<span id="cb18-19"><a href="#cb18-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">column_spec</span>(<span class="dv">5</span>,</span>
<span id="cb18-20"><a href="#cb18-20" aria-hidden="true" tabindex="-1"></a>              <span class="at">background =</span> <span class="fu">ifelse</span>(season_averages<span class="sc">$</span>avg_orb <span class="sc">==</span> <span class="fu">max</span>(season_averages<span class="sc">$</span>avg_orb),</span>
<span id="cb18-21"><a href="#cb18-21" aria-hidden="true" tabindex="-1"></a>                                  <span class="st">"#d4edda"</span>, <span class="st">"white"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb18-22"><a href="#cb18-22" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Highlight max FTR (higher is better)</span></span>
<span id="cb18-23"><a href="#cb18-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">column_spec</span>(<span class="dv">6</span>,</span>
<span id="cb18-24"><a href="#cb18-24" aria-hidden="true" tabindex="-1"></a>              <span class="at">background =</span> <span class="fu">ifelse</span>(season_averages<span class="sc">$</span>avg_ftr <span class="sc">==</span> <span class="fu">max</span>(season_averages<span class="sc">$</span>avg_ftr),</span>
<span id="cb18-25"><a href="#cb18-25" aria-hidden="true" tabindex="-1"></a>                                  <span class="st">"#d4edda"</span>, <span class="st">"white"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-striped table-hover table-sm small" data-quarto-postprocess="true">
<caption>Season Averages: Four Factors</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Team</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Games</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">eFG%</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">TOV%</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">ORB%</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">FTR</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Kansas Jayhawks</td>
<td style="text-align: right;">26</td>
<td style="text-align: right; background-color: white !important;">0.535</td>
<td style="text-align: right; background-color: white !important;">0.136</td>
<td style="text-align: right; background-color: rgba(212, 237, 218, 255) !important;">0.244</td>
<td style="text-align: right; background-color: white !important;">0.259</td>
</tr>
<tr class="even">
<td style="text-align: left;">Miami (OH) RedHawks</td>
<td style="text-align: right;">26</td>
<td style="text-align: right; background-color: rgba(212, 237, 218, 255) !important;">0.621</td>
<td style="text-align: right; background-color: rgba(212, 237, 218, 255) !important;">0.133</td>
<td style="text-align: right; background-color: white !important;">0.225</td>
<td style="text-align: right; background-color: rgba(212, 237, 218, 255) !important;">0.312</td>
</tr>
</tbody>
</table>


</div>
</div>
<hr>
<p>Would you look at that. Miami’s offense outperforms Kansas…if you completely ignore the quality of opponents Miami has played vs Kansas. The Big 12 has Houston, Arizona, Iowa State, Texas Tech and BYU in the AP Top 25 along with Kansas. Miami’s best win as a 3-point home win over Akron.</p>
</section>
<section id="step-4-visualize-shooting-efficiency" class="level2">
<h2 class="anchored" data-anchor-id="step-4-visualize-shooting-efficiency">Step 4: Visualize Shooting Efficiency</h2>
<p>Let’s look at how consistent each team is at making shots.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>four_factors <span class="sc">|&gt;</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> team_display_name, <span class="at">y =</span> efg_pct, <span class="at">fill =</span> team_display_name)) <span class="sc">+</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Kansas Jayhawks"</span> <span class="ot">=</span> <span class="st">"#003262"</span>, </span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>               <span class="st">"Miami (OH) RedHawks"</span> <span class="ot">=</span> <span class="st">"#8C1515"</span>)</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Shooting Efficiency: Kansas vs Miami"</span>,</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"Effective Field Goal Percentage Distribution"</span>,</span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="cn">NULL</span>,</span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"eFG%"</span>,</span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"Data: hoopR / ESPN | Higher = Better"</span></span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">14</span>) <span class="sc">+</span></span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">16</span>),</span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.major.x =</span> <span class="fu">element_blank</span>()</span>
<span id="cb19-19"><a href="#cb19-19" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb19-20"><a href="#cb19-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid" width="768"></p>
</div>
</div>
<p>It’s very likely Kansas is playing teams with much, much better defenses.</p>
</section>
<section id="step-5-calculate-efficiency-ratings" class="level2">
<h2 class="anchored" data-anchor-id="step-5-calculate-efficiency-ratings">Step 5: Calculate Efficiency Ratings</h2>
<p>Points per game is misleading because it depends on pace. A team that plays fast will score more points, but that doesn’t mean they’re better.</p>
<p>Efficiency ratings adjust for pace by measuring points per 100 possessions.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>efficiency <span class="ot">&lt;-</span> hawks <span class="sc">%&gt;%</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Estimate possessions using the standard formula</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">possessions =</span> field_goals_attempted <span class="sc">-</span> </span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>                  offensive_rebounds <span class="sc">+</span> </span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>                  turnovers <span class="sc">+</span> </span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>                  <span class="fl">0.44</span> <span class="sc">*</span> free_throws_attempted,</span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Offensive Rating (points scored per 100 possessions)</span></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">ortg =</span> (team_score <span class="sc">/</span> possessions) <span class="sc">*</span> <span class="dv">100</span>,</span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Defensive Rating (points allowed per 100 possessions)</span></span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">drtg =</span> (opponent_team_score <span class="sc">/</span> possessions) <span class="sc">*</span> <span class="dv">100</span>,</span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Net Rating (offense minus defense)</span></span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">net_rating =</span> ortg <span class="sc">-</span> drtg</span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(team_display_name, game_date, possessions, ortg, drtg, net_rating)</span>
<span id="cb20-19"><a href="#cb20-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-20"><a href="#cb20-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Season averages</span></span>
<span id="cb20-21"><a href="#cb20-21" aria-hidden="true" tabindex="-1"></a>efficiency_summary <span class="ot">&lt;-</span> efficiency <span class="sc">%&gt;%</span></span>
<span id="cb20-22"><a href="#cb20-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(team_display_name) <span class="sc">%&gt;%</span></span>
<span id="cb20-23"><a href="#cb20-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb20-24"><a href="#cb20-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">avg_pace =</span> <span class="fu">mean</span>(possessions, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb20-25"><a href="#cb20-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">avg_ortg =</span> <span class="fu">mean</span>(ortg, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb20-26"><a href="#cb20-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">avg_drtg =</span> <span class="fu">mean</span>(drtg, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb20-27"><a href="#cb20-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">avg_net =</span> <span class="fu">mean</span>(net_rating, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb20-28"><a href="#cb20-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">"drop"</span></span>
<span id="cb20-29"><a href="#cb20-29" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb20-30"><a href="#cb20-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-31"><a href="#cb20-31" aria-hidden="true" tabindex="-1"></a>efficiency_summary <span class="sc">%&gt;%</span></span>
<span id="cb20-32"><a href="#cb20-32" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>(</span>
<span id="cb20-33"><a href="#cb20-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">digits =</span> <span class="dv">1</span>,</span>
<span id="cb20-34"><a href="#cb20-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Team"</span>, <span class="st">"Pace"</span>, <span class="st">"ORtg"</span>, <span class="st">"DRtg"</span>, <span class="st">"Net Rating"</span>),</span>
<span id="cb20-35"><a href="#cb20-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"Efficiency Ratings (per 100 possessions)"</span></span>
<span id="cb20-36"><a href="#cb20-36" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<caption>Efficiency Ratings (per 100 possessions)</caption>
<thead>
<tr class="header">
<th style="text-align: left;">Team</th>
<th style="text-align: right;">Pace</th>
<th style="text-align: right;">ORtg</th>
<th style="text-align: right;">DRtg</th>
<th style="text-align: right;">Net Rating</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Kansas Jayhawks</td>
<td style="text-align: right;">67.9</td>
<td style="text-align: right;">113.8</td>
<td style="text-align: right;">100.1</td>
<td style="text-align: right;">13.7</td>
</tr>
<tr class="even">
<td style="text-align: left;">Miami (OH) RedHawks</td>
<td style="text-align: right;">72.4</td>
<td style="text-align: right;">127.0</td>
<td style="text-align: right;">102.7</td>
<td style="text-align: right;">24.3</td>
</tr>
</tbody>
</table>
</div>
</div>
<p><strong>Offensive Rating (ORtg):</strong> Points per 100 possessions</p>
<p><strong>Defensive Rating (DRtg):</strong> Points allowed per 100 possessions</p>
<p><strong>Net Rating:</strong> Offensive Rating minus Defensive Rating</p>
</section>
<section id="step-6-recent-form-last-10-games" class="level2">
<h2 class="anchored" data-anchor-id="step-6-recent-form-last-10-games">Step 6: Recent Form (Last 10 Games)</h2>
<p>Let’s see who’s trending up and who’s trending down.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>efficiency <span class="sc">%&gt;%</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(team_display_name) <span class="sc">%&gt;%</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(game_date) <span class="sc">%&gt;%</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">game_num =</span> <span class="fu">row_number</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(game_num <span class="sc">&gt;</span> <span class="fu">max</span>(game_num) <span class="sc">-</span> <span class="dv">10</span>) <span class="sc">%&gt;%</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> game_num, <span class="at">y =</span> net_rating, <span class="at">color =</span> team_display_name)) <span class="sc">+</span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">linewidth =</span> <span class="fl">1.2</span>) <span class="sc">+</span></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>, <span class="at">color =</span> <span class="st">"gray50"</span>) <span class="sc">+</span></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>, <span class="at">linewidth =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(</span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Kansas Jayhawks"</span> <span class="ot">=</span> <span class="st">"#003262"</span>, </span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a>               <span class="st">"Miami (OH) RedHawks"</span> <span class="ot">=</span> <span class="st">"#8C1515"</span>)</span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Net Rating Trend: Last 10 Games"</span>,</span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"Positive = good, upward trend = improving"</span>,</span>
<span id="cb21-18"><a href="#cb21-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Game Number (Most Recent 10)"</span>,</span>
<span id="cb21-19"><a href="#cb21-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Net Rating"</span>,</span>
<span id="cb21-20"><a href="#cb21-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">"Team"</span>,</span>
<span id="cb21-21"><a href="#cb21-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"Data: hoopR / ESPN"</span></span>
<span id="cb21-22"><a href="#cb21-22" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb21-23"><a href="#cb21-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">14</span>) <span class="sc">+</span></span>
<span id="cb21-24"><a href="#cb21-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb21-25"><a href="#cb21-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">16</span>),</span>
<span id="cb21-26"><a href="#cb21-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">"bottom"</span></span>
<span id="cb21-27"><a href="#cb21-27" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid" width="864"></p>
</div>
</div>
<p>Miami appears to be in a more stable position than Kansas. As a unit, Miami definitely seems more consistent.</p>
</section>
<section id="conclusion" class="level2">
<h2 class="anchored" data-anchor-id="conclusion">Conclusion</h2>
<p>This workflow can be reproduced for any of the 360+ Division-1 Mens’ Basketball Teams. In Part 3 of this series, we’ll walk through how to build machine learning models to incorporate all of this data and predict who would win in a potential match-up between Kansas and Miami, the margin of victory and the total points scored.</p>
<p><em>Want to see more analyses like this? Subscribe to our Telegram for daily picks and breakdowns.</em></p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">© 2026 ProPlotFits</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
    <a class="nav-link" href="../../../methodology.html">Methodology</a>
  </li>  
</ul>
    </div>
  </div>
</footer>



</body></html>